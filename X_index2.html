<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Text Analyzer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body.dark-mode {
            background-color: #121212;
            color: #f1f1f1;
        }
        .dark-mode .form-control {
            background-color: #1e1e1e;
            color: #f1f1f1;
        }
        .stat-card {
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            margin-bottom: 1rem;
            padding: 1rem;
        }
    </style>
</head>
<body>
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3">Interactive Text Analyzer</h1>
        <button id="themeToggle" class="btn btn-outline-secondary">Toggle Theme</button>
    </div>

    <textarea id="textInput" class="form-control mb-3" rows="8" placeholder="Type or paste text here..."></textarea>

    <div class="row" id="stats">
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Characters</h6>
                <p id="charCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Words</h6>
                <p id="wordCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Lines</h6>
                <p id="lineCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Sentences</h6>
                <p id="sentenceCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Paragraphs</h6>
                <p id="paragraphCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Average Word Length</h6>
                <p id="avgWordLength" class="fs-5 fw-bold">0</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Longest Word</h6>
                <p id="longestWord" class="fs-6">-</p>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card bg-light">
                <h6>Unique Words</h6>
                <p id="uniqueWordCount" class="fs-5 fw-bold">0</p>
            </div>
        </div>
    </div>
</div>

<script>
    const textInput = document.getElementById('textInput');
    const charCount = document.getElementById('charCount');
    const wordCount = document.getElementById('wordCount');
    const lineCount = document.getElementById('lineCount');
    const sentenceCount = document.getElementById('sentenceCount');
    const paragraphCount = document.getElementById('paragraphCount');
    const avgWordLength = document.getElementById('avgWordLength');
    const longestWord = document.getElementById('longestWord');
    const uniqueWordCount = document.getElementById('uniqueWordCount');
    const themeToggle = document.getElementById('themeToggle');

    function analyzeText() {
        const text = textInput.value;

        // Basic counts
        const chars = text.length;
        const words = text.trim().split(/\s+/).filter(Boolean);
        const lines = text.split(/\n/);
        const sentences = text.split(/[.!?]+/).filter(Boolean);
        const paragraphs = text.split(/\n{2,}/).filter(Boolean);

        // Stats
        const avgWord = words.length ? (words.join('').length / words.length).toFixed(2) : 0;
        const longest = words.reduce((a,b) => b.length > a.length ? b : a, '') || '-';
        const unique = new Set(words.map(w => w.toLowerCase())).size;

        // Update UI
        charCount.textContent = chars;
        wordCount.textContent = words.length;
        lineCount.textContent = text ? lines.length : 0;
        sentenceCount.textContent = sentences.length;
        paragraphCount.textContent = paragraphs.length;
        avgWordLength.textContent = avgWord;
        longestWord.textContent = longest;
        uniqueWordCount.textContent = unique;
    }

    textInput.addEventListener('input', analyzeText);

    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
    });
</script>
</body>
</html>
